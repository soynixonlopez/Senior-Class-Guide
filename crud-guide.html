<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD System con Firebase - GuÃ­a Completa</title>
    <!-- CSS Base -->
    <link href="css/variables.css" rel="stylesheet">
    <link href="css/typography.css" rel="stylesheet">
    <link href="css/layout.css" rel="stylesheet">
    
    <!-- CSS Componentes -->
    <link href="components/header.css" rel="stylesheet">
    <link href="components/footer.css" rel="stylesheet">
    
    <!-- CSS EspecÃ­fico -->
    <link href="css/crud-guide.css" rel="stylesheet">
</head>
<body class="has-header">
    <div class="layout">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>ğŸ“ CRUD System</h2>
                <p>Sistema completo con Firebase</p>
            </div>
            <ul class="nav-links">
                <li><a href="#intro" class="nav-link active"><span class="nav-icon">ğŸ“š</span><span class="nav-text">IntroducciÃ³n</span></a></li>
                <li><a href="#what-is-crud" class="nav-link"><span class="nav-icon">â“</span><span class="nav-text">Â¿QuÃ© es CRUD?</span></a></li>
                <li><a href="#project-overview" class="nav-link"><span class="nav-icon">ğŸ¯</span><span class="nav-text">Proyecto: Tienda</span></a></li>
                <li><a href="#setup" class="nav-link"><span class="nav-icon">âš™ï¸</span><span class="nav-text">ConfiguraciÃ³n</span></a></li>
                <li><a href="#firestore-rules" class="nav-link"><span class="nav-icon">ğŸ”’</span><span class="nav-text">Reglas Firestore</span></a></li>
                <li><a href="#database-structure" class="nav-link"><span class="nav-icon">ğŸ—„ï¸</span><span class="nav-text">Estructura BD</span></a></li>
                <li><a href="#create-operation" class="nav-link"><span class="nav-icon">â•</span><span class="nav-text">CREATE - Crear</span></a></li>
                <li><a href="#read-operation" class="nav-link"><span class="nav-icon">ğŸ‘ï¸</span><span class="nav-text">READ - Leer</span></a></li>
                <li><a href="#update-operation" class="nav-link"><span class="nav-icon">âœï¸</span><span class="nav-text">UPDATE - Actualizar</span></a></li>
                <li><a href="#delete-operation" class="nav-link"><span class="nav-icon">ğŸ—‘ï¸</span><span class="nav-text">DELETE - Eliminar</span></a></li>
                <li><a href="#complete-example" class="nav-link"><span class="nav-icon">ğŸ—ï¸</span><span class="nav-text">Ejemplo Completo</span></a></li>
                <li><a href="#advanced-features" class="nav-link"><span class="nav-icon">ğŸš€</span><span class="nav-text">Funciones Avanzadas</span></a></li>
                <li><a href="#security-best-practices" class="nav-link"><span class="nav-icon">ğŸ›¡ï¸</span><span class="nav-text">Seguridad</span></a></li>
                <li><a href="#testing" class="nav-link"><span class="nav-icon">ğŸ§ª</span><span class="nav-text">Pruebas</span></a></li>
                <li><a href="#deployment" class="nav-link"><span class="nav-icon">ğŸŒ</span><span class="nav-text">Despliegue</span></a></li>
                <li><a href="#troubleshooting" class="nav-link"><span class="nav-icon">ğŸ”§</span><span class="nav-text">SoluciÃ³n Problemas</span></a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content">
                <!-- Header Component -->
                <div id="header-container"></div>
                
                <div class="content-wrapper">
                    <!-- IntroducciÃ³n -->
                    <section id="intro" class="section">
                        <h1>ğŸª Sistema CRUD con Firebase Firestore</h1>
                        <p class="lead">
                            Aprende a crear un sistema completo de gestiÃ³n de productos con operaciones CRUD 
                            (Create, Read, Update, Delete) usando Firebase Firestore, HTML, CSS y JavaScript.
                        </p>
                        
                        <div class="info-box">
                            <h3>ğŸ¯ Lo que construiremos</h3>
                            <p>Un sistema de gestiÃ³n de productos para una tienda online con:</p>
                            <ul>
                                <li><strong>CREATE:</strong> Agregar nuevos productos</li>
                                <li><strong>READ:</strong> Mostrar lista de productos</li>
                                <li><strong>UPDATE:</strong> Editar productos existentes</li>
                                <li><strong>DELETE:</strong> Eliminar productos</li>
                                <li><strong>SEARCH:</strong> Buscar y filtrar productos</li>
                                <li><strong>VALIDATION:</strong> ValidaciÃ³n de datos</li>
                            </ul>
                        </div>

                        <div class="project-preview">
                            <h3>ğŸ“± Vista Previa del Proyecto</h3>
                            <div class="preview-grid">
                                <div class="preview-item">
                                    <h4>ğŸ“ Formulario de Producto</h4>
                                    <p>Interfaz para agregar/editar productos con validaciÃ³n</p>
                                </div>
                                <div class="preview-item">
                                    <h4>ğŸ“‹ Lista de Productos</h4>
                                    <p>Vista en tarjetas con informaciÃ³n completa</p>
                                </div>
                                <div class="preview-item">
                                    <h4>ğŸ” Sistema de BÃºsqueda</h4>
                                    <p>Filtrado en tiempo real por nombre y categorÃ­a</p>
                                </div>
                                <div class="preview-item">
                                    <h4>ğŸ“Š Dashboard Administrativo</h4>
                                    <p>EstadÃ­sticas y gestiÃ³n avanzada</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Â¿QuÃ© es CRUD? -->
                    <section id="what-is-crud" class="section">
                        <h2>â“ Â¿QuÃ© es CRUD?</h2>
                        
                        <div class="crud-explanation">
                            <p>
                                <strong>CRUD</strong> es un acrÃ³nimo que representa las cuatro operaciones bÃ¡sicas 
                                que se pueden realizar en cualquier base de datos o sistema de almacenamiento:
                            </p>
                            
                            <div class="crud-operations">
                                <div class="crud-item create">
                                    <div class="crud-icon">â•</div>
                                    <h3>CREATE (Crear)</h3>
                                    <p>Agregar nuevos registros a la base de datos</p>
                                    <div class="crud-example">
                                        <strong>Ejemplo:</strong> Agregar un nuevo producto a la tienda
                                    </div>
                                </div>
                                
                                <div class="crud-item read">
                                    <div class="crud-icon">ğŸ‘ï¸</div>
                                    <h3>READ (Leer)</h3>
                                    <p>Consultar y mostrar informaciÃ³n existente</p>
                                    <div class="crud-example">
                                        <strong>Ejemplo:</strong> Mostrar la lista de productos
                                    </div>
                                </div>
                                
                                <div class="crud-item update">
                                    <div class="crud-icon">âœï¸</div>
                                    <h3>UPDATE (Actualizar)</h3>
                                    <p>Modificar registros existentes</p>
                                    <div class="crud-example">
                                        <strong>Ejemplo:</strong> Cambiar el precio de un producto
                                    </div>
                                </div>
                                
                                <div class="crud-item delete">
                                    <div class="crud-icon">ğŸ—‘ï¸</div>
                                    <h3>DELETE (Eliminar)</h3>
                                    <p>Remover registros de la base de datos</p>
                                    <div class="crud-example">
                                        <strong>Ejemplo:</strong> Eliminar un producto descontinuado
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="importance-box">
                            <h3>ğŸŒŸ Â¿Por quÃ© es importante CRUD?</h3>
                            <ul>
                                <li><strong>Fundamento Universal:</strong> Toda aplicaciÃ³n web necesita estas operaciones</li>
                                <li><strong>GestiÃ³n de Datos:</strong> Base para cualquier sistema de informaciÃ³n</li>
                                <li><strong>Experiencia de Usuario:</strong> Permite interacciÃ³n completa con los datos</li>
                                <li><strong>Escalabilidad:</strong> Base sÃ³lida para funcionalidades avanzadas</li>
                                <li><strong>EstÃ¡ndar de la Industria:</strong> PatrÃ³n reconocido mundialmente</li>
                            </ul>
                        </div>
                    </section>

                    <!-- Proyecto Overview -->
                    <section id="project-overview" class="section">
                        <h2>ğŸ¯ Proyecto: Sistema de GestiÃ³n de Tienda</h2>
                        
                        <div class="project-description">
                            <p>
                                Vamos a construir un sistema completo de gestiÃ³n de productos para una tienda online. 
                                Este proyecto incluirÃ¡ todas las operaciones CRUD y funcionalidades adicionales.
                            </p>
                        </div>

                        <div class="features-grid">
                            <div class="feature-card">
                                <h3>ğŸ“¦ GestiÃ³n de Productos</h3>
                                <ul>
                                    <li>Nombre del producto</li>
                                    <li>DescripciÃ³n detallada</li>
                                    <li>Precio y moneda</li>
                                    <li>CategorÃ­a</li>
                                    <li>Stock disponible</li>
                                    <li>Estado (activo/inactivo)</li>
                                </ul>
                            </div>
                            
                            <div class="feature-card">
                                <h3>ğŸ” Funcionalidades</h3>
                                <ul>
                                    <li>BÃºsqueda en tiempo real</li>
                                    <li>Filtros por categorÃ­a</li>
                                    <li>Ordenamiento mÃºltiple</li>
                                    <li>PaginaciÃ³n de resultados</li>
                                    <li>ValidaciÃ³n de formularios</li>
                                    <li>Confirmaciones de acciones</li>
                                </ul>
                            </div>
                            
                            <div class="feature-card">
                                <h3>ğŸ“Š Dashboard</h3>
                                <ul>
                                    <li>Total de productos</li>
                                    <li>Productos por categorÃ­a</li>
                                    <li>Valor total del inventario</li>
                                    <li>Productos con bajo stock</li>
                                    <li>Productos mÃ¡s populares</li>
                                    <li>EstadÃ­sticas en tiempo real</li>
                                </ul>
                            </div>
                        </div>

                        <div class="tech-stack">
                            <h3>ğŸ› ï¸ TecnologÃ­as que Usaremos</h3>
                            <div class="tech-grid">
                                <div class="tech-item">
                                    <span class="tech-icon">ğŸŒ</span>
                                    <strong>HTML5</strong>
                                    <p>Estructura semÃ¡ntica</p>
                                </div>
                                <div class="tech-item">
                                    <span class="tech-icon">ğŸ¨</span>
                                    <strong>CSS3</strong>
                                    <p>DiseÃ±o responsive</p>
                                </div>
                                <div class="tech-item">
                                    <span class="tech-icon">âš¡</span>
                                    <strong>JavaScript ES6+</strong>
                                    <p>LÃ³gica de aplicaciÃ³n</p>
                                </div>
                                <div class="tech-item">
                                    <span class="tech-icon">ğŸ”¥</span>
                                    <strong>Firebase Firestore</strong>
                                    <p>Base de datos NoSQL</p>
                                </div>
                                <div class="tech-item">
                                    <span class="tech-icon">ğŸ”</span>
                                    <strong>Firebase Auth</strong>
                                    <p>AutenticaciÃ³n de usuarios</p>
                                </div>
                                <div class="tech-item">
                                    <span class="tech-icon">ğŸŒ</span>
                                    <strong>Firebase Hosting</strong>
                                    <p>Despliegue en la nube</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- ConfiguraciÃ³n -->
                    <section id="setup" class="section">
                        <h2>âš™ï¸ ConfiguraciÃ³n del Proyecto</h2>
                        
                        <div class="setup-steps">
                            <div class="step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h3>ğŸ“ CreaciÃ³n del Proyecto Paso a Paso</h3>
                                    
                                    <h4>ğŸ¯ Paso 1.1: Crear la carpeta principal</h4>
                                    <ol>
                                        <li>Abre tu explorador de archivos</li>
                                        <li>Navega al escritorio o donde quieras crear el proyecto</li>
                                        <li>Clic derecho â†’ "Nueva carpeta"</li>
                                        <li>NÃ³mbrala: <code>tienda-crud</code></li>
                                        <li>Entra a la carpeta</li>
                                    </ol>

                                    <h4>ğŸ¯ Paso 1.2: Crear subcarpetas</h4>
                                    <p>Dentro de <code>tienda-crud</code>, crea estas carpetas:</p>
                                    <ol>
                                        <li>Clic derecho â†’ "Nueva carpeta" â†’ <code>css</code></li>
                                        <li>Clic derecho â†’ "Nueva carpeta" â†’ <code>js</code></li>
                                        <li>Clic derecho â†’ "Nueva carpeta" â†’ <code>assets</code></li>
                                    </ol>

                                    <h4>ğŸ¯ Paso 1.3: Crear archivos HTML</h4>
                                    <p>En la carpeta principal <code>tienda-crud</code>, crea estos archivos:</p>
                                    <ol>
                                        <li>Clic derecho â†’ "Nuevo" â†’ "Documento de texto"</li>
                                        <li>Renombra a: <code>index.html</code></li>
                                        <li>Repite para: <code>add-product.html</code></li>
                                        <li>Repite para: <code>edit-product.html</code></li>
                                        <li>Repite para: <code>dashboard.html</code></li>
                                    </ol>

                                    <div class="warning-box">
                                        <strong>âš ï¸ Importante:</strong> AsegÃºrate de cambiar la extensiÃ³n de <code>.txt</code> a <code>.html</code>. 
                                        Si no ves las extensiones, en Windows: Ver â†’ Extensiones de nombre de archivo âœ…
                                    </div>

                                    <h4>ğŸ¯ Paso 1.4: Crear archivos CSS</h4>
                                    <p>Dentro de la carpeta <code>css</code>:</p>
                                    <ol>
                                        <li>Crea: <code>variables.css</code></li>
                                        <li>Crea: <code>typography.css</code></li>
                                        <li>Crea: <code>layout.css</code></li>
                                        <li>Crea: <code>components.css</code></li>
                                        <li>Crea: <code>forms.css</code></li>
                                        <li>Crea: <code>dashboard.css</code></li>
                                    </ol>

                                    <h4>ğŸ¯ Paso 1.5: Crear archivos JavaScript</h4>
                                    <p>Dentro de la carpeta <code>js</code>:</p>
                                    <ol>
                                        <li>Crea: <code>firebase-config.js</code></li>
                                        <li>Crea: <code>auth.js</code></li>
                                        <li>Crea: <code>crud.js</code></li>
                                        <li>Crea: <code>validation.js</code></li>
                                        <li>Crea: <code>utils.js</code></li>
                                        <li>Crea: <code>dashboard.js</code></li>
                                    </ol>

                                    <div class="prompt-box">
                                        <h4>ğŸ¤– Prompt para Cursor AI</h4>
                                        <div class="code-block">
                                            <div class="code-header">
                                                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copiar Prompt</button>
                                            </div>
                                            <pre><code>AyÃºdame a crear la estructura de carpetas para un proyecto CRUD con Firebase. 

Necesito:
1. Crear las carpetas: css/, js/, assets/
2. Crear los archivos HTML: index.html, add-product.html, edit-product.html, dashboard.html
3. Crear los archivos CSS: variables.css, typography.css, layout.css, components.css, forms.css, dashboard.css
4. Crear los archivos JS: firebase-config.js, auth.js, crud.js, validation.js, utils.js, dashboard.js

Usa comandos de terminal para crear toda la estructura de una vez.</code></pre>
                                        </div>
                                    </div>

                                    <h4>ğŸ“‹ Estructura Final</h4>
                                    <p>Tu proyecto debe verse asÃ­:</p>
                                    <div class="code-block">
                                        <div class="code-header">
                                            <span>ğŸ“ Estructura Completa</span>
                                        </div>
                                        <pre><code>tienda-crud/
â”œâ”€â”€ index.html              # Lista de productos
â”œâ”€â”€ add-product.html        # Agregar producto
â”œâ”€â”€ edit-product.html       # Editar producto  
â”œâ”€â”€ dashboard.html          # Panel administrativo
â”œâ”€â”€ 
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ variables.css       # Variables CSS
â”‚   â”œâ”€â”€ typography.css      # TipografÃ­a
â”‚   â”œâ”€â”€ layout.css          # Layout base
â”‚   â”œâ”€â”€ components.css      # Componentes
â”‚   â”œâ”€â”€ forms.css           # Formularios
â”‚   â””â”€â”€ dashboard.css       # Dashboard
â”œâ”€â”€ 
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ firebase-config.js  # Config Firebase
â”‚   â”œâ”€â”€ auth.js            # AutenticaciÃ³n
â”‚   â”œâ”€â”€ crud.js            # Operaciones CRUD
â”‚   â”œâ”€â”€ validation.js      # Validaciones
â”‚   â”œâ”€â”€ utils.js           # Utilidades
â”‚   â””â”€â”€ dashboard.js       # Dashboard
â”œâ”€â”€ 
â””â”€â”€ assets/
    â”œâ”€â”€ images/            # ImÃ¡genes
    â””â”€â”€ icons/             # Iconos</code></pre>
                                    </div>
                                </div>
                            </div>

                            <div class="step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h3>ğŸ”¥ ConfiguraciÃ³n Detallada de Firebase</h3>
                                    
                                    <h4>ğŸ¯ Paso 2.1: Crear Proyecto en Firebase</h4>
                                    <ol>
                                        <li>Ve a <a href="https://console.firebase.google.com" target="_blank" class="external-link">Firebase Console</a></li>
                                        <li>Inicia sesiÃ³n con tu cuenta de Google</li>
                                        <li>Clic en <strong>"Crear un proyecto"</strong></li>
                                        <li>Nombre del proyecto: <code>tienda-crud-[tu-nombre]</code></li>
                                        <li>Clic <strong>"Continuar"</strong></li>
                                        <li>Google Analytics: <strong>Desactiva</strong> (para simplicidad)</li>
                                        <li>Clic <strong>"Crear proyecto"</strong></li>
                                        <li>Espera a que se cree (1-2 minutos)</li>
                                        <li>Clic <strong>"Continuar"</strong></li>
                                    </ol>

                                    <h4>ğŸ¯ Paso 2.2: Agregar App Web</h4>
                                    <ol>
                                        <li>En el dashboard, clic en el Ã­cono <strong>"&lt;/&gt;"</strong> (Web)</li>
                                        <li>Nombre de la app: <code>Tienda CRUD</code></li>
                                        <li><strong>NO</strong> marques "Firebase Hosting" (por ahora)</li>
                                        <li>Clic <strong>"Registrar app"</strong></li>
                                        <li><strong>Â¡IMPORTANTE!</strong> Copia toda la configuraciÃ³n que aparece</li>
                                        <li>GuÃ¡rdala en un bloc de notas temporalmente</li>
                                        <li>Clic <strong>"Continuar a la consola"</strong></li>
                                    </ol>

                                    <h4>ğŸ¯ Paso 2.3: Configurar Firestore Database</h4>
                                    <ol>
                                        <li>En el menÃº lateral, clic <strong>"Firestore Database"</strong></li>
                                        <li>Clic <strong>"Crear base de datos"</strong></li>
                                        <li><strong>Â¡MUY IMPORTANTE!</strong> Selecciona el modo:</li>
                                    </ol>

                                    <div class="mode-comparison">
                                        <h4>ğŸ”’ Modo ProducciÃ³n vs Modo de Prueba</h4>
                                        
                                        <div class="mode-grid">
                                            <div class="mode-card production">
                                                <h5>ğŸ›¡ï¸ Modo ProducciÃ³n (Recomendado)</h5>
                                                <p><strong>Para:</strong> Proyectos serios, apps reales</p>
                                                <p><strong>Seguridad:</strong> Alta - Solo usuarios autenticados</p>
                                                <p><strong>Reglas:</strong> Debes configurar reglas personalizadas</p>
                                                <p><strong>Ventaja:</strong> Seguro desde el inicio</p>
                                                <div class="mode-rules">
                                                    <strong>Reglas automÃ¡ticas:</strong>
                                                    <code>allow read, write: if request.auth != null;</code>
                                                </div>
                                            </div>
                                            
                                            <div class="mode-card test">
                                                <h5>ğŸ§ª Modo de Prueba</h5>
                                                <p><strong>Para:</strong> Desarrollo, pruebas rÃ¡pidas</p>
                                                <p><strong>Seguridad:</strong> Baja - Cualquiera puede acceder</p>
                                                <p><strong>Reglas:</strong> Permisivas por 30 dÃ­as</p>
                                                <p><strong>Desventaja:</strong> Inseguro, datos pÃºblicos</p>
                                                <div class="mode-rules">
                                                    <strong>Reglas automÃ¡ticas:</strong>
                                                    <code>allow read, write: if request.time < timestamp.date(2024, 3, 1);</code>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="recommendation-box">
                                        <h4>ğŸ’¡ RecomendaciÃ³n para Estudiantes</h4>
                                        <p>
                                            <strong>Selecciona "Modo ProducciÃ³n"</strong> y aprende a configurar reglas desde el inicio. 
                                            Es mejor aprender la forma correcta desde el principio.
                                        </p>
                                    </div>

                                    <ol start="4">
                                        <li>Selecciona <strong>"Modo producciÃ³n"</strong></li>
                                        <li>Clic <strong>"Siguiente"</strong></li>
                                        <li>UbicaciÃ³n: Deja la predeterminada (us-central1)</li>
                                        <li>Clic <strong>"Listo"</strong></li>
                                        <li>Espera a que se cree la base de datos</li>
                                    </ol>

                                    <h4>ğŸ¯ Paso 2.4: Configurar Authentication</h4>
                                    <ol>
                                        <li>En el menÃº lateral, clic <strong>"Authentication"</strong></li>
                                        <li>Clic <strong>"Comenzar"</strong></li>
                                        <li>Ve a la pestaÃ±a <strong>"Sign-in method"</strong></li>
                                        <li>Clic en <strong>"Correo electrÃ³nico/contraseÃ±a"</strong></li>
                                        <li>Activa el <strong>primer toggle</strong> (Correo electrÃ³nico/contraseÃ±a)</li>
                                        <li><strong>NO</strong> actives el segundo (VÃ­nculo de correo electrÃ³nico)</li>
                                        <li>Clic <strong>"Guardar"</strong></li>
                                    </ol>

                                    <h4>ğŸ¯ Paso 2.5: Crear Usuario Administrador</h4>
                                    <ol>
                                        <li>Ve a la pestaÃ±a <strong>"Users"</strong></li>
                                        <li>Clic <strong>"Agregar usuario"</strong></li>
                                        <li>Email: <code>admin@tienda.com</code></li>
                                        <li>ContraseÃ±a: <code>Admin123!</code> (cÃ¡mbiala despuÃ©s)</li>
                                        <li>Clic <strong>"Agregar usuario"</strong></li>
                                        <li><strong>Anota el UID</strong> que aparece - lo necesitarÃ¡s</li>
                                    </ol>

                                    <div class="warning-box">
                                        <strong>âš ï¸ Seguridad:</strong> En un proyecto real, usa contraseÃ±as seguras y 
                                        nunca compartas credenciales. Esta es solo para desarrollo.
                                    </div>
                                </div>
                            </div>

                            <div class="step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h3>âš™ï¸ Crear Archivo de ConfiguraciÃ³n</h3>
                                    
                                    <h4>ğŸ¯ Paso 3.1: Abrir el archivo</h4>
                                    <ol>
                                        <li>Abre VS Code (o tu editor favorito)</li>
                                        <li>Abre la carpeta <code>tienda-crud</code></li>
                                        <li>Navega a <code>js/firebase-config.js</code></li>
                                        <li>Abre el archivo (debe estar vacÃ­o)</li>
                                    </ol>

                                    <h4>ğŸ¯ Paso 3.2: Pegar la configuraciÃ³n</h4>
                                    <p>Copia y pega este cÃ³digo en <code>js/firebase-config.js</code>:</p>
                                    
                                    <div class="code-block">
                                        <div class="code-header">
                                            <span>js/firebase-config.js</span>
                                            <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copiar</button>
                                        </div>
                                        <pre><code>// Importar Firebase
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js';
import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';
import { getAuth } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js';

// ğŸ”¥ CONFIGURACIÃ“N DE FIREBASE
// âš ï¸ IMPORTANTE: Reemplaza estos valores con los de tu proyecto
const firebaseConfig = {
  apiKey: "tu-api-key-aqui",
  authDomain: "tu-proyecto.firebaseapp.com", 
  projectId: "tu-proyecto-id",
  storageBucket: "tu-proyecto.appspot.com",
  messagingSenderId: "123456789",
  appId: "tu-app-id-aqui"
};

// Inicializar Firebase
const app = initializeApp(firebaseConfig);

// Inicializar servicios
const db = getFirestore(app);
const auth = getAuth(app);

// Exportar para uso en otros archivos
export { db, auth };

// ğŸ¯ Para debugging - puedes comentar estas lÃ­neas despuÃ©s
console.log("âœ… Firebase configurado correctamente");
console.log("ğŸ“Š Base de datos:", db);
console.log("ğŸ” AutenticaciÃ³n:", auth);</code></pre>
                                    </div>

                                    <h4>ğŸ¯ Paso 3.3: Reemplazar tu configuraciÃ³n</h4>
                                    <ol>
                                        <li>Ve a Firebase Console â†’ ConfiguraciÃ³n del proyecto</li>
                                        <li>Baja hasta "Tus apps" â†’ Selecciona tu app web</li>
                                        <li>Clic en "ConfiguraciÃ³n" (Ã­cono de engranaje)</li>
                                        <li>Copia cada valor y reemplaza en tu archivo:</li>
                                    </ol>

                                    <div class="config-mapping">
                                        <h5>ğŸ“‹ Mapeo de ConfiguraciÃ³n</h5>
                                        <div class="mapping-grid">
                                            <div class="mapping-item">
                                                <strong>Firebase Console</strong> â†’ <strong>Tu archivo</strong>
                                            </div>
                                            <div class="mapping-item">
                                                <code>apiKey: "AIza..."</code> â†’ <code>apiKey: "AIza..."</code>
                                            </div>
                                            <div class="mapping-item">
                                                <code>authDomain: "proyecto.firebaseapp.com"</code> â†’ <code>authDomain: "proyecto.firebaseapp.com"</code>
                                            </div>
                                            <div class="mapping-item">
                                                <code>projectId: "proyecto-123"</code> â†’ <code>projectId: "proyecto-123"</code>
                                            </div>
                                            <div class="mapping-item">
                                                <code>storageBucket: "proyecto.appspot.com"</code> â†’ <code>storageBucket: "proyecto.appspot.com"</code>
                                            </div>
                                            <div class="mapping-item">
                                                <code>messagingSenderId: "123456"</code> â†’ <code>messagingSenderId: "123456"</code>
                                            </div>
                                            <div class="mapping-item">
                                                <code>appId: "1:123:web:abc"</code> â†’ <code>appId: "1:123:web:abc"</code>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="prompt-box">
                                        <h4>ğŸ¤– Prompt para Cursor AI</h4>
                                        <div class="code-block">
                                            <div class="code-header">
                                                <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copiar Prompt</button>
                                            </div>
                                            <pre><code>AyÃºdame a configurar Firebase para mi proyecto CRUD. 

Tengo esta configuraciÃ³n de Firebase Console:
[PEGA AQUÃ TU CONFIGURACIÃ“N DE FIREBASE]

Necesito:
1. Crear el archivo js/firebase-config.js
2. Importar los mÃ³dulos necesarios (app, firestore, auth)
3. Inicializar los servicios correctamente
4. Exportar db y auth para usar en otros archivos
5. Agregar console.logs para verificar que funciona

Usa ES6 modules y la versiÃ³n 10.12.2 de Firebase.</code></pre>
                                        </div>
                                    </div>

                                    <h4>ğŸ¯ Paso 3.4: Verificar configuraciÃ³n</h4>
                                    <ol>
                                        <li>Guarda el archivo (<code>Ctrl+S</code>)</li>
                                        <li>Abre <code>index.html</code> en VS Code</li>
                                        <li>Agrega temporalmente este script al final del <code>&lt;body&gt;</code>:</li>
                                    </ol>

                                    <div class="code-block">
                                        <div class="code-header">
                                            <span>VerificaciÃ³n temporal en index.html</span>
                                            <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copiar</button>
                                        </div>
                                        <pre><code>&lt;script type="module"&gt;
  import { db, auth } from './js/firebase-config.js';
  console.log('ğŸ”¥ Firebase cargado:', { db, auth });
&lt;/script&gt;</code></pre>
                                    </div>

                                    <ol start="4">
                                        <li>Abre <code>index.html</code> con Live Server</li>
                                        <li>Abre DevTools (F12) â†’ pestaÃ±a Console</li>
                                        <li>DeberÃ­as ver: "âœ… Firebase configurado correctamente"</li>
                                        <li>Si hay errores, revisa la configuraciÃ³n</li>
                                        <li><strong>Elimina el script temporal</strong> despuÃ©s de verificar</li>
                                    </ol>

                                    <div class="warning-box">
                                        <strong>âš ï¸ Problemas comunes:</strong>
                                        <ul>
                                            <li><strong>CORS Error:</strong> Usa Live Server, no abras el HTML directamente</li>
                                            <li><strong>Module Error:</strong> Verifica que uses <code>type="module"</code></li>
                                            <li><strong>404 Error:</strong> Verifica las rutas de los archivos</li>
                                            <li><strong>Config Error:</strong> Revisa que copiaste todos los valores correctamente</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Reglas de Firestore -->
                    <section id="firestore-rules" class="section">
                        <h2>ğŸ”’ Reglas de Seguridad de Firestore</h2>
                        
                        <div class="rules-explanation">
                            <p>
                                Las reglas de Firestore son <strong>fundamentales</strong> para la seguridad de tu aplicaciÃ³n. 
                                Determinan quiÃ©n puede leer y escribir datos en tu base de datos.
                            </p>
                        </div>

                        <div class="warning-box">
                            <h3>âš ï¸ Â¡Muy Importante!</h3>
                            <p>
                                <strong>NUNCA</strong> uses reglas como <code>allow read, write: if true;</code> en producciÃ³n. 
                                Esto permite que cualquier persona acceda a todos tus datos.
                            </p>
                        </div>

                        <div class="rules-sections">
                            <div class="rule-section">
                                <h3>ğŸ”° Reglas BÃ¡sicas para Desarrollo</h3>
                                <p>Para empezar y hacer pruebas (solo en desarrollo):</p>
                                <div class="code-block">
                                    <div class="code-header">
                                        <span>ğŸ”§ Reglas de Desarrollo</span>
                                        <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copiar</button>
                                    </div>
                                    <pre><code>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Reglas para la colecciÃ³n 'productos'
    match /productos/{productId} {
      // Permitir lectura a usuarios autenticados
      allow read: if request.auth != null;
      
      // Permitir escritura solo a usuarios autenticados
      allow write: if request.auth != null;
    }
    
    // Reglas para otras colecciones
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}</code></pre>
                                </div>
                            </div>

                            <div class="rule-section">
                                <h3>ğŸ›¡ï¸ Reglas de ProducciÃ³n Seguras</h3>
                                <p>Para un entorno de producciÃ³n mÃ¡s seguro:</p>
                                <div class="code-block">
                                    <div class="code-header">
                                        <span>ğŸ”’ Reglas de ProducciÃ³n</span>
                                        <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copiar</button>
                                    </div>
                                    <pre><code>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Reglas para productos
    match /productos/{productId} {
      // Cualquier usuario autenticado puede leer productos
      allow read: if request.auth != null;
      
      // Solo administradores pueden crear/actualizar/eliminar
      allow create, update, delete: if request.auth != null 
        && request.auth.token.admin == true;
    }
    
    // Reglas para usuarios (perfil de usuario)
    match /usuarios/{userId} {
      // Los usuarios solo pueden leer/escribir su propia informaciÃ³n
      allow read, write: if request.auth != null 
        && request.auth.uid == userId;
    }
    
    // Reglas para categorÃ­as (solo lectura para todos)
    match /categorias/{categoryId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null 
        && request.auth.token.admin == true;
    }
    
    // Reglas para estadÃ­sticas (solo administradores)
    match /estadisticas/{statId} {
      allow read, write: if request.auth != null 
        && request.auth.token.admin == true;
    }
  }
}</code></pre>
                                </div>
                            </div>

                            <div class="rule-section">
                                <h3>ğŸ” Reglas con ValidaciÃ³n de Datos</h3>
                                <p>Reglas avanzadas que validan la estructura de los datos:</p>
                                <div class="code-block">
                                    <div class="code-header">
                                        <span>âœ… Reglas con ValidaciÃ³n</span>
                                        <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copiar</button>
                                    </div>
                                    <pre><code>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /productos/{productId} {
      allow read: if request.auth != null;
      
      allow create: if request.auth != null 
        && validateProductData(request.resource.data);
      
      allow update: if request.auth != null 
        && validateProductData(request.resource.data)
        && resource.data.createdBy == request.auth.uid;
      
      allow delete: if request.auth != null 
        && (resource.data.createdBy == request.auth.uid 
            || request.auth.token.admin == true);
    }
    
    // FunciÃ³n para validar datos del producto
    function validateProductData(data) {
      return data.keys().hasAll(['nombre', 'precio', 'categoria', 'stock']) &&
             data.nombre is string &&
             data.nombre.size() > 0 &&
             data.precio is number &&
             data.precio > 0 &&
             data.categoria is string &&
             data.stock is number &&
             data.stock >= 0;
    }
  }
}</code></pre>
                                </div>
                            </div>
                        </div>

                        <div class="rules-best-practices">
                            <h3>ğŸ’¡ Mejores PrÃ¡cticas para Reglas</h3>
                            <div class="practices-grid">
                                <div class="practice-item">
                                    <h4>ğŸ” Principio de Menor Privilegio</h4>
                                    <p>Otorga solo los permisos mÃ­nimos necesarios</p>
                                </div>
                                <div class="practice-item">
                                    <h4>âœ… ValidaciÃ³n de Datos</h4>
                                    <p>Valida estructura y tipos de datos en las reglas</p>
                                </div>
                                <div class="practice-item">
                                    <h4>ğŸ‘¤ AutenticaciÃ³n Requerida</h4>
                                    <p>Siempre verifica que el usuario estÃ© autenticado</p>
                                </div>
                                <div class="practice-item">
                                    <h4>ğŸ§ª Pruebas de Reglas</h4>
                                    <p>Usa el simulador de Firebase para probar reglas</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Estructura de Base de Datos -->
                    <section id="database-structure" class="section">
                        <h2>ğŸ—„ï¸ Estructura de la Base de Datos</h2>
                        
                        <div class="db-explanation">
                            <p>
                                Firestore es una base de datos NoSQL que organiza los datos en 
                                <strong>colecciones</strong> y <strong>documentos</strong>. 
                                Vamos a diseÃ±ar una estructura eficiente para nuestro sistema de productos.
                            </p>
                        </div>

                        <div class="db-structure">
                            <h3>ğŸ“‹ Colecciones Principales</h3>
                            
                            <div class="collection-item">
                                <h4>ğŸ“¦ ColecciÃ³n: productos</h4>
                                <p>Almacena toda la informaciÃ³n de los productos de la tienda.</p>
                                <div class="code-block">
                                    <div class="code-header">
                                        <span>ğŸ“„ Documento de Producto</span>
                                        <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copiar</button>
                                    </div>
                                    <pre><code>{
  "id": "prod_001",
  "nombre": "Laptop Gaming Pro",
  "descripcion": "Laptop para gaming con procesador Intel i7, 16GB RAM, RTX 3070",
  "precio": 1299.99,
  "moneda": "USD",
  "categoria": "electronica",
  "subcategoria": "laptops",
  "stock": 15,
  "stockMinimo": 5,
  "activo": true,
  "destacado": false,
  "tags": ["gaming", "laptop", "intel", "nvidia"],
  "especificaciones": {
    "procesador": "Intel Core i7-11800H",
    "ram": "16GB DDR4",
    "almacenamiento": "512GB SSD",
    "grafica": "NVIDIA RTX 3070",
    "pantalla": "15.6\" Full HD 144Hz"
  },
  "imagenes": [
    "https://ejemplo.com/imagen1.jpg",
    "https://ejemplo.com/imagen2.jpg"
  ],
  "fechaCreacion": "2024-01-15T10:30:00Z",
  "fechaActualizacion": "2024-01-20T14:45:00Z",
  "creadoPor": "admin_user_id",
  "actualizadoPor": "admin_user_id"
}</code></pre>
                                </div>
                            </div>

                            <div class="collection-item">
                                <h4>ğŸ“‚ ColecciÃ³n: categorias</h4>
                                <p>Define las categorÃ­as disponibles para organizar productos.</p>
                                <div class="code-block">
                                    <div class="code-header">
                                        <span>ğŸ“„ Documento de CategorÃ­a</span>
                                        <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copiar</button>
                                    </div>
                                    <pre><code>{
  "id": "electronica",
  "nombre": "ElectrÃ³nica",
  "descripcion": "Dispositivos electrÃ³nicos y tecnologÃ­a",
  "icono": "ğŸ’»",
  "color": "#3b82f6",
  "activa": true,
  "orden": 1,
  "subcategorias": [
    {
      "id": "laptops",
      "nombre": "Laptops",
      "descripcion": "Computadoras portÃ¡tiles"
    },
    {
      "id": "smartphones",
      "nombre": "Smartphones",
      "descripcion": "TelÃ©fonos inteligentes"
    }
  ]
}</code></pre>
                                </div>
                            </div>

                            <div class="collection-item">
                                <h4>ğŸ‘¥ ColecciÃ³n: usuarios</h4>
                                <p>InformaciÃ³n adicional de los usuarios registrados.</p>
                                <div class="code-block">
                                    <div class="code-header">
                                        <span>ğŸ“„ Documento de Usuario</span>
                                        <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copiar</button>
                                    </div>
                                    <pre><code>{
  "uid": "user_123",
  "email": "usuario@ejemplo.com",
  "nombre": "Juan PÃ©rez",
  "rol": "admin", // "admin", "editor", "viewer"
  "activo": true,
  "fechaRegistro": "2024-01-10T08:00:00Z",
  "ultimoAcceso": "2024-01-25T16:30:00Z",
  "permisos": {
    "productos": {
      "crear": true,
      "leer": true,
      "actualizar": true,
      "eliminar": true
    },
    "categorias": {
      "crear": true,
      "leer": true,
      "actualizar": true,
      "eliminar": false
    }
  }
}</code></pre>
                                </div>
                            </div>

                            <div class="collection-item">
                                <h4>ğŸ“Š ColecciÃ³n: estadisticas</h4>
                                <p>MÃ©tricas y estadÃ­sticas del sistema.</p>
                                <div class="code-block">
                                    <div class="code-header">
                                        <span>ğŸ“„ Documento de EstadÃ­sticas</span>
                                        <button class="copy-btn" onclick="copyCode(this)">ğŸ“‹ Copiar</button>
                                    </div>
                                    <pre><code>{
  "fecha": "2024-01-25",
  "totalProductos": 156,
  "productosActivos": 142,
  "productosPorCategoria": {
    "electronica": 45,
    "ropa": 38,
    "hogar": 29,
    "deportes": 30,
    "otros": 14
  },
  "valorInventario": 45670.50,
  "productosStockBajo": 8,
  "ventasDelDia": 12,
  "ingresoDelDia": 2450.75
}</code></pre>
                                </div>
                            </div>
                        </div>

                        <div class="db-best-practices">
                            <h3>ğŸ’¡ Mejores PrÃ¡cticas para Firestore</h3>
                            <div class="practices-list">
                                <div class="practice">
                                    <h4>ğŸ·ï¸ Nombres Descriptivos</h4>
                                    <p>Usa nombres claros para colecciones y campos (productos, no prods)</p>
                                </div>
                                <div class="practice">
                                    <h4>ğŸ“ Documentos PequeÃ±os</h4>
                                    <p>MantÃ©n documentos bajo 1MB, divide datos grandes en subcolecciones</p>
                                </div>
                                <div class="practice">
                                    <h4>ğŸ” Campos Indexables</h4>
                                    <p>DiseÃ±a campos pensando en las consultas que harÃ¡s</p>
                                </div>
                                <div class="practice">
                                    <h4>â° Timestamps</h4>
                                    <p>Incluye fechas de creaciÃ³n y actualizaciÃ³n en todos los documentos</p>
                                </div>
                                <div class="practice">
                                    <h4>ğŸ—‚ï¸ Estructura Consistente</h4>
                                    <p>MantÃ©n la misma estructura en todos los documentos de una colecciÃ³n</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Footer Component -->
                    <div id="footer-container"></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="assets/script.js"></script>
    <script src="components/components.js"></script>
    <script>
        // Inicializar componentes cuando el DOM estÃ© listo
        document.addEventListener('DOMContentLoaded', function() {
            GuideComponents.initializeComponents('Sistema CRUD Firebase', 'ğŸ“');
        });

        // FunciÃ³n para copiar cÃ³digo
        function copyCode(button) {
            const codeBlock = button.closest('.code-block').querySelector('code');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                button.textContent = 'âœ… Copiado';
                button.style.background = 'var(--success)';
                
                setTimeout(() => {
                    button.textContent = 'ğŸ“‹ Copiar';
                    button.style.background = 'var(--accent)';
                }, 2000);
            });
        }
    </script>
</body>
</html>
